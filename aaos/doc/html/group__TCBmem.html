<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Double A O.S.: Memory management</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Memory management<br>
<small>
[<a class="el" href="group__TCB.html">Thread Control Block</a>]</small>
</h1>Abstraction for Thread Control Block allocation/deallocation.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TCBmem.html#g017e5f8461ee161b707393cd9bd84fed">initTcbs</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the Thread Control Block memory area.  <a href="#g017e5f8461ee161b707393cd9bd84fed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structtcb__t.html">tcb_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TCBmem.html#gff5166483114b6024ae541e94a101d99">allocTcb</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a TCB, if possible.  <a href="#gff5166483114b6024ae541e94a101d99"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TCBmem.html#g83be513903657bcfb3b666b0d4322ba6">freeTcb</a> (<a class="el" href="structtcb__t.html">tcb_t</a> *t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a TCB.  <a href="#g83be513903657bcfb3b666b0d4322ba6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TCBmem.html#g21fd507bfbf7766cc124a392cd19c711">getTcbID</a> (const <a class="el" href="structtcb__t.html">tcb_t</a> *t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a TCB's identifier.  <a href="#g21fd507bfbf7766cc124a392cd19c711"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Abstraction for Thread Control Block allocation/deallocation. 
<p>
Once the hardware is started, the Operating System is not yet available. So we can't use functions for dynamic memory allocation (these functions are usually provided by another Operating System module: the Memory Manager). These module hide this problem, creating a fixed memory area for TCB allocation and maintaining a list of unused TCBs. <hr><h2>Function Documentation</h2>
<a class="anchor" name="gff5166483114b6024ae541e94a101d99"></a><!-- doxytag: member="tcb.h::allocTcb" ref="gff5166483114b6024ae541e94a101d99" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtcb__t.html">tcb_t</a>* allocTcb           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocate a TCB, if possible. 
<p>
NOTE: The initial values of the allocated TCB is unknown. <dl class="return" compact><dt><b>Returns:</b></dt><dd>An unused TCB, if exists, NULL otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g83be513903657bcfb3b666b0d4322ba6"></a><!-- doxytag: member="tcb.h::freeTcb" ref="g83be513903657bcfb3b666b0d4322ba6" args="(tcb_t *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void freeTcb           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtcb__t.html">tcb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free a TCB. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>A TCB previously allocated with <a class="el" href="group__TCBmem.html#gff5166483114b6024ae541e94a101d99" title="Allocate a TCB, if possible.">allocTcb()</a>. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g21fd507bfbf7766cc124a392cd19c711"></a><!-- doxytag: member="tcb.h::getTcbID" ref="g21fd507bfbf7766cc124a392cd19c711" args="(const tcb_t *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getTcbID           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtcb__t.html">tcb_t</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a TCB's identifier. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>A TCB previously allocated with <a class="el" href="group__TCBmem.html#gff5166483114b6024ae541e94a101d99" title="Allocate a TCB, if possible.">allocTcb()</a>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The identifier of this thread. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g017e5f8461ee161b707393cd9bd84fed"></a><!-- doxytag: member="tcb.h::initTcbs" ref="g017e5f8461ee161b707393cd9bd84fed" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initTcbs           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the Thread Control Block memory area. 
<p>
This function is called once, at the beginning of the kernel program. It provides to initialize the structures needed by TCB related functions. <dl class="see" compact><dt><b>See also:</b></dt><dd>void <a class="el" href="group__MSGmem.html#gd3819681114c0bca42a864de096fa9e3" title="Initialize the Message Block memory area.">initMsgs()</a> </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Dec 21 17:21:05 2008 for Double A O.S. by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
