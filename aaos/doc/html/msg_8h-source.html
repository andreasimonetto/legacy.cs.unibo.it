<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Double A O.S.: include/msg.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>include/msg.h</h1><a href="msg_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00004"></a>00004 <span class="preprocessor">#ifndef _MSG_H</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span><span class="preprocessor">#define _MSG_H</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="tcb_8h.html" title="Thread Control Block module.">tcb.h</a>"</span>
<a name="l00007"></a>00007 
<a name="l00016"></a><a class="code" href="group__MSG.html#g9fd42488a172732cfb4b44f0e04d9b2a">00016</a> <span class="preprocessor">#define MAXMESSAGES 128</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00019"></a><a class="code" href="structmsg__t.html">00019</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> {
<a name="l00021"></a><a class="code" href="structmsg__t.html#88e1979b8e8a4354c731e402fd6759bf">00021</a>         <span class="keyword">struct </span><a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *<a class="code" href="structmsg__t.html#88e1979b8e8a4354c731e402fd6759bf" title="Pointer to next entry into message queue.">m_next</a>;
<a name="l00022"></a>00022                 
<a name="l00024"></a><a class="code" href="structmsg__t.html#79142f9e3cb715592d6e9e0c1f2d449d">00024</a>         <span class="keyword">struct </span><a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *<a class="code" href="structmsg__t.html#79142f9e3cb715592d6e9e0c1f2d449d" title="Pointer to previous entry into message queue.">m_prev</a>;
<a name="l00025"></a>00025                 
<a name="l00027"></a><a class="code" href="structmsg__t.html#22d5232470ac90ad396edd6b7ca8ea17">00027</a>         <span class="keyword">struct </span><a class="code" href="structtcb__t.html" title="Thread Control Block structure.">tcb_t</a> *<a class="code" href="structmsg__t.html#22d5232470ac90ad396edd6b7ca8ea17" title="Sender of this message.">m_sender</a>;
<a name="l00028"></a>00028                 
<a name="l00030"></a><a class="code" href="structmsg__t.html#1ce7a86a885a66cdc4d979c9fe116f2d">00030</a>         <span class="keywordtype">unsigned</span> <a class="code" href="structmsg__t.html#1ce7a86a885a66cdc4d979c9fe116f2d" title="Payload of the message.">message</a>;
<a name="l00031"></a>00031 } <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a>;
<a name="l00032"></a>00032 
<a name="l00047"></a>00047 <span class="keywordtype">void</span> <a class="code" href="group__MSGmem.html#gd3819681114c0bca42a864de096fa9e3" title="Initialize the Message Block memory area.">initMsgs</a>();
<a name="l00048"></a>00048 
<a name="l00053"></a>00053 <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a>* <a class="code" href="group__MSGmem.html#gaf680675ae5c965691033b0916dc1664" title="Allocate a MSG, if possible.">allocMsg</a>();
<a name="l00054"></a>00054 
<a name="l00058"></a>00058 <span class="keywordtype">void</span> <a class="code" href="group__MSGmem.html#g8654a31a3c22c38cf7bd920b9aa12b9b" title="Free a MSG.">freeMsg</a>(<a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *m);
<a name="l00059"></a>00059 
<a name="l00064"></a>00064 <span class="keywordtype">int</span> <a class="code" href="group__MSGmem.html#g415a87ce5be8fdd6d398340a5d98eb68" title="Get a MSG&amp;#39;s identifier.">getMsgID</a>(<span class="keyword">const</span> <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *m);
<a name="l00077"></a>00077 <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a>* <a class="code" href="group__MSGQ.html#gf5c0bf71345efd254b41ef80d436886e" title="Create an empty Message Queue.">mkEmptyMessageQ</a>();
<a name="l00078"></a>00078 
<a name="l00083"></a>00083 <span class="keywordtype">int</span> <a class="code" href="group__MSGQ.html#g9daaa1da9b8fbc0a1141c33b5e02461e" title="Test whether or not a Message Queue is empty.">emptyMessageQ</a>(<span class="keyword">const</span> <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *mq);
<a name="l00084"></a>00084 
<a name="l00089"></a>00089 <span class="keywordtype">void</span> <a class="code" href="group__MSGQ.html#g3bcf2df3d7e9abfd1361a504d4a91bfb" title="Enqueue a MB into a Message Queue.">insertMessage</a>(<a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> **mq, <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *m_ptr);
<a name="l00090"></a>00090 
<a name="l00099"></a>00099 <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a>* <a class="code" href="group__MSGQ.html#g4c7b021ce163121f76acdd2382ef886a" title="Remove a MSG from a queue.">outMessage</a>(<a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> **mq, <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *m_ptr);
<a name="l00100"></a>00100 
<a name="l00106"></a>00106 <span class="keywordtype">void</span> <a class="code" href="group__MSGQ.html#g1bbd54f8246f8efbea537a8dd1f7ad27" title="Push a message into a queue.">pushMessage</a>(<a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> **mq, <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *m_ptr);
<a name="l00107"></a>00107 
<a name="l00113"></a>00113 <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a>* <a class="code" href="group__MSGQ.html#gdb3910dc826fcef5e83085c3f31d52a1" title="Pop the first message in the queue which sender is t_ptr.">popMessage</a>(<a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> **mq, <a class="code" href="structtcb__t.html" title="Thread Control Block structure.">tcb_t</a> *t_ptr);
<a name="l00114"></a>00114 
<a name="l00119"></a>00119 <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a>* <a class="code" href="group__MSGQ.html#g3a912c403eaf9205ecbdfd88b4228374" title="Return the outgoing MSG.">headMessage</a>(<span class="keyword">const</span> <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *mq);
<a name="l00120"></a>00120 
<a name="l00126"></a>00126 <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a>* <a class="code" href="group__MSGQ.html#g87ba493388c38abe6e7c94e76a792430" title="Search in a queue for a MSG.">searchMessage</a>(<span class="keyword">const</span> <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *mq, <span class="keyword">const</span> <a class="code" href="structmsg__t.html" title="Message Block structure.">msg_t</a> *m);
<a name="l00130"></a>00130 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Dec 21 17:21:05 2008 for Double A O.S. by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
