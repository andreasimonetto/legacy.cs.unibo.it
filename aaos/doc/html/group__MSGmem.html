<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Double A O.S.: Memory management</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Memory management<br>
<small>
[<a class="el" href="group__MSG.html">Message Block</a>]</small>
</h1>Abstraction for Message Block allocation/deallocation.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSGmem.html#gd3819681114c0bca42a864de096fa9e3">initMsgs</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the Message Block memory area.  <a href="#gd3819681114c0bca42a864de096fa9e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structmsg__t.html">msg_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSGmem.html#gaf680675ae5c965691033b0916dc1664">allocMsg</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a MSG, if possible.  <a href="#gaf680675ae5c965691033b0916dc1664"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSGmem.html#g8654a31a3c22c38cf7bd920b9aa12b9b">freeMsg</a> (<a class="el" href="structmsg__t.html">msg_t</a> *m)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a MSG.  <a href="#g8654a31a3c22c38cf7bd920b9aa12b9b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSGmem.html#g415a87ce5be8fdd6d398340a5d98eb68">getMsgID</a> (const <a class="el" href="structmsg__t.html">msg_t</a> *m)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a MSG's identifier.  <a href="#g415a87ce5be8fdd6d398340a5d98eb68"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Abstraction for Message Block allocation/deallocation. 
<p>
Once the hardware is started, the Operating System is not yet available. So we can't use functions for dynamic memory allocation (these functions are usually provided by another Operating System module: the Memory Manager). These module hide this problem, creating a fixed memory area for MSG allocation and maintaining a list of unused MSGs. <hr><h2>Function Documentation</h2>
<a class="anchor" name="gaf680675ae5c965691033b0916dc1664"></a><!-- doxytag: member="msg.h::allocMsg" ref="gaf680675ae5c965691033b0916dc1664" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmsg__t.html">msg_t</a>* allocMsg           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocate a MSG, if possible. 
<p>
NOTE: The initial values of the allocated MSG is unknown. <dl class="return" compact><dt><b>Returns:</b></dt><dd>An unused MSG, if exists, NULL otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g8654a31a3c22c38cf7bd920b9aa12b9b"></a><!-- doxytag: member="msg.h::freeMsg" ref="g8654a31a3c22c38cf7bd920b9aa12b9b" args="(msg_t *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void freeMsg           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmsg__t.html">msg_t</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free a MSG. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>A MSG previously allocated with <em><a class="el" href="group__MSGmem.html#gaf680675ae5c965691033b0916dc1664" title="Allocate a MSG, if possible.">allocMsg()</a></em>. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g415a87ce5be8fdd6d398340a5d98eb68"></a><!-- doxytag: member="msg.h::getMsgID" ref="g415a87ce5be8fdd6d398340a5d98eb68" args="(const msg_t *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getMsgID           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmsg__t.html">msg_t</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a MSG's identifier. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td>A MSG previously allocated with <a class="el" href="group__MSGmem.html#gaf680675ae5c965691033b0916dc1664" title="Allocate a MSG, if possible.">allocMsg()</a>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The identifier of this message. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gd3819681114c0bca42a864de096fa9e3"></a><!-- doxytag: member="msg.h::initMsgs" ref="gd3819681114c0bca42a864de096fa9e3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initMsgs           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the Message Block memory area. 
<p>
This function is called once, at the beginning of the main kernel program. Provides to initialize the structures needed by MSG related functions. <dl class="see" compact><dt><b>See also:</b></dt><dd>void <a class="el" href="group__TCBmem.html#g017e5f8461ee161b707393cd9bd84fed" title="Initialize the Thread Control Block memory area.">initTcbs()</a> </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Dec 21 17:21:05 2008 for Double A O.S. by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
